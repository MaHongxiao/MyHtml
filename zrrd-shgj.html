<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI æ™ºæ…§å®¡æ ¸å·¥ä½œå° | æ™ºé—®é€šè¾¾</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans SC"', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a',
                        },
                        ai: {
                            light: '#f0fdf4',
                            main: '#10b981',
                            dark: '#047857'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        /* AI Thinking Animation */
        .typing-dot { animation: typing 1.4s infinite ease-in-out both; }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

        .result-card { animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; transform: translateY(20px); }
        @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }

        .glass-panel { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .step-line::before { content: ''; position: absolute; top: 0; bottom: 0; left: 15px; width: 2px; background: #e2e8f0; z-index: 0; }
        
        /* Custom Tooltip Arrow for Header */
        .header-arrow {
            width: 0; height: 0; 
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #2563eb; /* brand-600 */
            position: absolute; bottom: -10px; left: 40px;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 font-sans h-screen flex overflow-hidden">

    <!-- å·¦ä¾§æ“ä½œåŒº (40% -> Fixed 420px) -->
    <div class="w-[420px] bg-white border-r border-slate-200 flex flex-col z-20 shadow-xl flex-shrink-0">
        <!-- Header -->
        <div class="h-20 px-8 flex items-center border-b border-slate-100 bg-slate-50/50">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-brand-600 to-brand-700 rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/30 text-white">
                    <i class="fa-solid fa-wand-magic-sparkles text-lg"></i>
                </div>
                <div>
                    <h1 class="font-bold text-lg text-slate-800">AI æ™ºæ…§å®¡æ ¸å·¥ä½œå°</h1>
                    <p class="text-xs text-slate-500">v3.5.0 Professional</p>
                </div>
            </div>
        </div>

        <!-- Tool Selection & Form -->
        <div class="flex-1 overflow-y-auto p-8 space-y-8">
            <div class="space-y-3">
                <label class="text-xs font-bold text-slate-400 uppercase tracking-wider">é€‰æ‹©æ™ºèƒ½å·¥å…·</label>
                <div class="relative">
                    <select id="tool-selector" onchange="renderForm()" class="w-full appearance-none bg-slate-50 border border-slate-200 text-slate-700 font-medium py-3.5 px-4 pr-8 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent transition-all cursor-pointer hover:bg-white hover:shadow-sm">
                        <option value="manday">ğŸ“… IAF MD5 æ™ºèƒ½äººå¤©è®¡ç®—</option>
                        <option value="fee">ğŸ’° è®¤è¯é¡¹ç›®å…¨æˆæœ¬ä¼°ç®—</option>
                        <option value="aql">ğŸ” GB/T 2828 é£é™©æŠ½æ ·å†³ç­–</option>
                        <option value="ccc">ğŸ“˜ CCC ç›®å½• AI åˆ¤å®š</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500"><i class="fa-solid fa-chevron-down text-xs"></i></div>
                </div>
            </div>
            <div id="dynamic-form-container" class="space-y-6"></div>
        </div>

        <!-- Footer Action -->
        <div class="p-6 border-t border-slate-100 bg-white">
            <button onclick="runAnalysis()" id="btn-execute" class="w-full bg-slate-900 hover:bg-slate-800 text-white py-4 rounded-xl font-bold text-sm shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 group">
                <span>å¼€å§‹æ™ºèƒ½åˆ†æ</span>
                <i class="fa-solid fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
            </button>
        </div>
    </div>

    <!-- å³ä¾§ç»“æœå±•ç¤ºåŒº (Flexible) -->
    <div class="flex-1 bg-slate-50 relative overflow-hidden flex flex-col">
        
        <!-- èƒŒæ™¯è£…é¥° -->
        <div class="absolute top-0 right-0 w-[800px] h-[800px] bg-blue-50/50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3 pointer-events-none"></div>

        <!-- BLUE HEADER AREA -->
        <div id="result-header" class="bg-brand-600 text-white p-8 pb-12 shadow-lg relative shrink-0 transition-all duration-300 hidden">
            <div class="flex justify-between items-start max-w-full mx-auto">
                <div>
                    <div class="flex items-center gap-3 mb-2 opacity-90">
                        <span class="bg-white/20 backdrop-blur px-2 py-0.5 rounded text-xs font-medium border border-white/10" id="header-tag">AI Analysis</span>
                        <span class="text-xs text-blue-100" id="header-date">2026-01-05</span>
                    </div>
                    <h2 class="text-3xl font-bold tracking-tight" id="header-title">åˆ†ææŠ¥å‘Š</h2>
                    <p class="text-blue-100 text-sm mt-2 max-w-2xl" id="header-desc">åŸºäºæœ€æ–°è¡Œä¸šè§„åˆ™åº“ä¸ AI æ¨¡å‹ç”Ÿæˆçš„æ·±åº¦åˆ†æç»“æœã€‚</p>
                </div>
                <div class="flex gap-3">
                    <button class="bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg text-sm border border-white/20 transition-colors"><i class="fa-solid fa-share-nodes mr-2"></i>åˆ†äº«</button>
                    <button class="bg-white text-brand-600 hover:bg-blue-50 px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors"><i class="fa-solid fa-file-export mr-2"></i>å¯¼å‡º PDF</button>
                </div>
            </div>
            <!-- Decorative Arrow to content -->
            <div class="header-arrow"></div>
        </div>

        <!-- ç»“æœå®¹å™¨ -->
        <div class="flex-1 overflow-y-auto p-6 md:p-8 relative z-10" id="result-container">
            
            <!-- ç©ºçŠ¶æ€ -->
            <div id="state-empty" class="h-full flex flex-col items-center justify-center text-slate-400">
                <div class="w-32 h-32 bg-white rounded-full shadow-sm border border-slate-100 flex items-center justify-center mb-6">
                    <i class="fa-solid fa-chart-pie text-5xl text-slate-300"></i>
                </div>
                <h3 class="text-xl font-medium text-slate-600 mb-2">å‡†å¤‡å°±ç»ª</h3>
                <p class="text-sm max-w-xs text-center leading-relaxed text-slate-500">è¯·åœ¨å·¦ä¾§é…ç½®ä¸šåŠ¡å‚æ•°ï¼Œå³ä¾§å°†å…¨å±å±•ç¤º AI ç”Ÿæˆçš„æ·±åº¦åˆ†ææŠ¥è¡¨ã€‚</p>
            </div>

            <!-- åŠ è½½çŠ¶æ€ -->
            <div id="state-loading" class="hidden h-full flex flex-col items-center justify-center">
                <div class="flex gap-2 mb-6">
                    <div class="w-3 h-3 bg-brand-600 rounded-full typing-dot"></div>
                    <div class="w-3 h-3 bg-brand-600 rounded-full typing-dot"></div>
                    <div class="w-3 h-3 bg-brand-600 rounded-full typing-dot"></div>
                </div>
                <p class="text-brand-600 font-medium animate-pulse text-lg" id="loading-text">AI å¼•æ“æ­£åœ¨è¿ç®—...</p>
            </div>

            <!-- ç»“æœå†…å®¹ -->
            <div id="state-result" class="hidden w-full h-full flex flex-col gap-6">
                <!-- Content injected by JS -->
            </div>

        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Form Configuration ---
        const forms = {
            manday: `
                <div class="space-y-5">
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">è®¤è¯æ ‡å‡†</label><div class="grid grid-cols-2 gap-3"><label class="cursor-pointer"><input type="radio" name="md_std" value="QMS" checked class="peer sr-only"><div class="px-4 py-3 rounded-lg border border-slate-200 bg-slate-50 text-slate-600 text-sm font-medium peer-checked:border-brand-500 peer-checked:bg-brand-50 peer-checked:text-brand-700 transition-all text-center">ISO 9001</div></label><label class="cursor-pointer"><input type="radio" name="md_std" value="EMS" class="peer sr-only"><div class="px-4 py-3 rounded-lg border border-slate-200 bg-slate-50 text-slate-600 text-sm font-medium peer-checked:border-brand-500 peer-checked:bg-brand-50 peer-checked:text-brand-700 transition-all text-center">ISO 14001</div></label></div></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">æœ‰æ•ˆå‘˜å·¥æ€»æ•°</label><input type="number" id="md_count" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-brand-500 focus:border-transparent outline-none transition-shadow" placeholder="ä¾‹å¦‚: 150"></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">å¤æ‚ç¨‹åº¦ (Risk)</label><select id="md_risk" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none"><option value="H">é«˜é£é™© (High)</option><option value="M" selected>ä¸­ç­‰ (Medium)</option><option value="L">ä½é£é™© (Low)</option></select></div>
                    <div class="pt-2 border-t border-slate-100"><label class="flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-50 rounded-lg"><input type="checkbox" id="md_shift" class="w-4 h-4 text-brand-600 rounded border-slate-300 focus:ring-brand-500"><span class="text-sm text-slate-600">åŒ…å«å€’ç­ (Shift Work)</span></label><label class="flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-50 rounded-lg"><input type="checkbox" id="md_multi" class="w-4 h-4 text-brand-600 rounded border-slate-300 focus:ring-brand-500"><span class="text-sm text-slate-600">å¤šåœºæ‰€ (Multi-site)</span></label></div>
                </div>`,
            fee: `
                <div class="space-y-5">
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">è®¤è¯æ¨¡å¼</label><select id="fee_mode" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm outline-none"><option value="type1">å‹å¼è¯•éªŒ + è·è¯åç›‘ç£</option><option value="type2">å‹å¼è¯•éªŒ + åˆå§‹å·¥å‚æ£€æŸ¥ + è·è¯åç›‘ç£</option></select></div>
                    <div class="grid grid-cols-2 gap-4"><div><label class="block text-xs font-bold text-slate-500 mb-1.5">ç”³è¯·å•å…ƒæ•°</label><input type="number" id="fee_units" value="1" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm outline-none"></div><div><label class="block text-xs font-bold text-slate-500 mb-1.5">é¢„ä¼°äººå¤©</label><input type="number" id="fee_days" value="2.5" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm outline-none"></div></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">äº§å“ç±»åˆ«</label><input type="text" id="fee_product" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm outline-none" placeholder="ä¾‹å¦‚: å®¶ç”¨å†°ç®±"></div>
                </div>`,
            aql: `
                <div class="space-y-5">
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">æ‰¹é‡å¤§å° (N)</label><input type="number" id="aql_batch" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none" placeholder="è¾“å…¥æ‰¹æ¬¡æ€»æ•°é‡"></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">æ£€éªŒæ°´å¹³ (IL)</label><div class="flex rounded-lg bg-slate-100 p-1"><button onclick="setAQLLevel(this, 'I')" class="aql-btn flex-1 py-1.5 text-xs font-medium rounded-md text-slate-500 hover:bg-white hover:shadow-sm transition-all">S-4</button><button onclick="setAQLLevel(this, 'II')" class="aql-btn flex-1 py-1.5 text-xs font-medium rounded-md bg-white text-brand-600 shadow-sm transition-all">II (ä¸€èˆ¬)</button><button onclick="setAQLLevel(this, 'III')" class="aql-btn flex-1 py-1.5 text-xs font-medium rounded-md text-slate-500 hover:bg-white hover:shadow-sm transition-all">III (ä¸¥æ ¼)</button></div><input type="hidden" id="aql_level" value="II"></div>
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">æ¥æ”¶è´¨é‡é™ (AQL)</label><select id="aql_val" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm outline-none"><option value="0.65">0.65 (ä¸¥è‹›)</option><option value="1.5">1.5</option><option value="2.5" selected>2.5 (å¸¸è§„)</option><option value="4.0">4.0</option></select></div>
                </div>`,
            ccc: `
                <div class="space-y-5">
                    <div><label class="block text-xs font-bold text-slate-500 mb-1.5">äº§å“åç§°æˆ–HSç¼–ç </label><textarea id="ccc_input" rows="4" class="w-full bg-white border border-slate-200 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none resize-none" placeholder="æ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œä¾‹å¦‚ï¼š&#10;ç”µçº¿ç”µç¼†&#10;8544421100&#10;å„¿ç«¥ç©å…·"></textarea></div>
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-100 flex gap-3"><i class="fa-solid fa-robot text-brand-600 mt-0.5"></i><p class="text-xs text-brand-800 leading-relaxed">AI åŠ©æ‰‹å°†æ ¹æ®æœ€æ–°ç‰ˆã€Šå¼ºåˆ¶æ€§äº§å“è®¤è¯ç›®å½•ã€‹åŠ 2025 å¹´æœ€æ–°å…¬å‘Šè¿›è¡Œè¯­ä¹‰åŒ¹é…ã€‚</p></div>
                </div>`
        };

        function renderForm() {
            const type = document.getElementById('tool-selector').value;
            document.getElementById('dynamic-form-container').innerHTML = forms[type];
            document.getElementById('state-empty').classList.remove('hidden');
            document.getElementById('state-result').classList.add('hidden');
            document.getElementById('result-header').classList.add('hidden');
            document.getElementById('state-loading').classList.add('hidden');
        }

        function setAQLLevel(btn, val) {
            document.querySelectorAll('.aql-btn').forEach(b => { b.className = 'aql-btn flex-1 py-1.5 text-xs font-medium rounded-md text-slate-500 hover:bg-white hover:shadow-sm transition-all'; });
            btn.className = 'aql-btn flex-1 py-1.5 text-xs font-medium rounded-md bg-white text-brand-600 shadow-sm transition-all';
            document.getElementById('aql_level').value = val;
        }

        async function runAnalysis() {
            const type = document.getElementById('tool-selector').value;
            // Validation
            if (type === 'manday' && !document.getElementById('md_count').value) return alert('è¯·è¾“å…¥æœ‰æ•ˆå‘˜å·¥æ•°');
            if (type === 'aql' && !document.getElementById('aql_batch').value) return alert('è¯·è¾“å…¥æ‰¹é‡å¤§å°');
            if (type === 'ccc' && !document.getElementById('ccc_input').value) return alert('è¯·è¾“å…¥æŸ¥è¯¢å†…å®¹');

            document.getElementById('state-empty').classList.add('hidden');
            document.getElementById('state-result').classList.add('hidden');
            document.getElementById('result-header').classList.add('hidden');
            document.getElementById('state-loading').classList.remove('hidden');
            
            // Header Info
            const headers = {
                manday: { title: "IAF MD5 å®¡æ ¸äººå¤©è®¡ç®—æŠ¥å‘Š", desc: "ä¾æ® IAF MD 5:2019 åŠ CQC è®¤è¯ä¸šåŠ¡è§„åˆ™ç”Ÿæˆ", tag: "äººå¤©ä¼°ç®—" },
                fee: { title: "è®¤è¯é¡¹ç›®å…¨æˆæœ¬ä¼°ç®—å•", desc: "åŒ…å«ç”³è¯·è´¹ã€å®¡æ ¸è´¹ã€æ³¨å†Œè´¹åŠå¹´é‡‘çš„ç»¼åˆæˆæœ¬åˆ†æ", tag: "æˆæœ¬é¢„ç®—" },
                aql: { title: "GB/T 2828.1 æŠ½æ ·æ–¹æ¡ˆå†³ç­–ä¹¦", desc: "åŸºäºç»Ÿè®¡å­¦åŸç†çš„æ‰¹æ¬¡è´¨é‡éªŒæ”¶æŠ½æ ·è®¡åˆ’", tag: "è´¨é‡æ§åˆ¶" },
                ccc: { title: "CCC å¼ºåˆ¶æ€§äº§å“è®¤è¯åˆ¤å®šä¹¦", desc: "åŸºäºæœ€æ–°å¼ºåˆ¶æ€§äº§å“è®¤è¯ç›®å½•çš„ AI è¯­ä¹‰åŒ¹é…ç»“æœ", tag: "åˆè§„åˆ¤å®š" }
            };
            
            document.getElementById('loading-text').innerText = "AI æ­£åœ¨åˆ†ææ•°æ®...";
            await new Promise(r => setTimeout(r, 1000));

            // Update Header
            document.getElementById('header-title').innerText = headers[type].title;
            document.getElementById('header-desc').innerText = headers[type].desc;
            document.getElementById('header-tag').innerText = headers[type].tag;
            
            document.getElementById('state-loading').classList.add('hidden');
            document.getElementById('result-header').classList.remove('hidden');
            const resultContainer = document.getElementById('state-result');
            resultContainer.innerHTML = generateResultHTML(type);
            resultContainer.classList.remove('hidden');

            // Render Charts based on tool type
            setTimeout(() => {
                if (type === 'aql') renderAQLChart();
                if (type === 'fee') { renderFeeChart(); renderTrendChart(); }
                if (type === 'manday') renderRiskRadar();
            }, 100);
        }

        // --- 3. Result Generators ---
        function generateResultHTML(type) {
            if (type === 'manday') {
                const count = parseInt(document.getElementById('md_count').value);
                const risk = document.getElementById('md_risk').value;
                const base = count < 50 ? 4 : (count < 200 ? 8 : 12);
                const factor = risk === 'H' ? 1.3 : (risk === 'L' ? 0.8 : 1.0);
                const total = (base * factor).toFixed(1);
                
                return `
                    <div class="grid grid-cols-12 gap-6 h-full">
                        <div class="col-span-7 flex flex-col gap-6">
                            <div class="result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-8 relative overflow-hidden flex-1">
                                <div class="absolute top-0 right-0 p-6 opacity-5"><i class="fa-solid fa-calculator text-9xl text-brand-600"></i></div>
                                <h3 class="text-sm font-bold text-slate-500 uppercase tracking-wide mb-4">å»ºè®®å®¡æ ¸æ€»äººå¤©</h3>
                                <div class="flex items-baseline gap-3 mb-6"><span class="text-7xl font-bold text-brand-600 tracking-tighter">${total}</span><span class="text-2xl text-slate-400">Days</span></div>
                                <div class="flex gap-4">
                                    <div class="bg-slate-50 rounded-xl p-4 flex-1 border border-slate-100"><div class="text-xs text-slate-500 mb-1">ä¸€é˜¶æ®µ (æ–‡å®¡)</div><div class="text-xl font-bold text-slate-800">${(total*0.3).toFixed(1)} <span class="text-xs font-normal">å¤©</span></div></div>
                                    <div class="bg-brand-50 rounded-xl p-4 flex-1 border border-brand-100"><div class="text-xs text-brand-600 mb-1">äºŒé˜¶æ®µ (ç°åœº)</div><div class="text-xl font-bold text-brand-700">${(total*0.7).toFixed(1)} <span class="text-xs font-normal">å¤©</span></div></div>
                                </div>
                            </div>
                            <div class="result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-6"><h3 class="font-bold text-slate-700 mb-3 text-sm">è®¡ç®—å› å­æ˜ç»†</h3><div class="space-y-3 text-sm"><div class="flex justify-between border-b border-slate-50 pb-2"><span class="text-slate-500">åŸºç¡€äººå¤© (Table QMS 1)</span><span class="font-mono font-bold">${base}</span></div><div class="flex justify-between border-b border-slate-50 pb-2"><span class="text-slate-500">é£é™©ç³»æ•°è°ƒæ•´</span><span class="font-mono font-bold text-brand-600">x ${factor}</span></div></div></div>
                        </div>
                        <div class="col-span-5 flex flex-col gap-6">
                            <div class="result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-6 flex flex-col"><h3 class="font-bold text-slate-700 mb-4 text-sm">ä¼ä¸šé£é™©ç”»åƒ</h3><div class="flex-1 min-h-[200px]"><canvas id="riskRadar"></canvas></div></div>
                            <div class="result-card bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-6 text-white shadow-lg"><div class="flex items-center gap-2 mb-3 text-yellow-400 text-sm font-bold"><i class="fa-solid fa-lightbulb"></i> AI å®¡æ ¸å»ºè®®</div><ul class="text-xs space-y-3 text-slate-300 leading-relaxed"><li>â€¢ å»ºè®®é‡ç‚¹æ ¸æŸ¥ <strong>8.5 ç”Ÿäº§è¿‡ç¨‹</strong> çš„å‚æ•°è®°å½•å®Œæ•´æ€§ã€‚</li><li>â€¢ å»ºè®®å¢åŠ  0.5 äººå¤©ç”¨äºå¤šåœºæ‰€ä¹‹é—´çš„äº¤é€šæ—¶é—´ã€‚</li></ul></div>
                        </div>
                    </div>`;
            } else if (type === 'fee') {
                return `<div class="grid grid-cols-12 gap-6 h-full"><div class="col-span-4 result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-6 flex flex-col justify-between"><div><h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">é¢„ä¼°æ€»è´¹ç”¨</h3><div class="text-4xl font-bold text-slate-800 tracking-tight">Â¥ 18,500</div><div class="text-xs text-green-600 mt-2 font-medium bg-green-50 inline-block px-2 py-1 rounded"><i class="fa-solid fa-check mr-1"></i> å«ç¨ä»·</div></div><div class="h-32 mt-4"><canvas id="feeChart"></canvas></div></div><div class="col-span-8 result-card bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col"><div class="px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center"><h3 class="font-bold text-sm text-slate-700">è´¹ç”¨ç»“æ„æ˜ç»†</h3><button class="text-xs text-brand-600 hover:text-brand-700 font-medium">ä¸‹è½½æŠ¥ä»·å•</button></div><div class="flex-1 overflow-auto"><table class="w-full text-sm text-left"><thead class="bg-slate-50 text-slate-500"><tr><th class="p-4 font-medium">é¡¹ç›®</th><th class="p-4 font-medium">è¯´æ˜</th><th class="p-4 text-right font-medium">é‡‘é¢</th></tr></thead><tbody class="divide-y divide-slate-100"><tr><td class="p-4 font-medium text-slate-700">ç”³è¯·è´¹</td><td class="p-4 text-slate-500 text-xs">æŒ‰å•å…ƒè®¡è´¹ (1ä¸ª)</td><td class="p-4 text-right font-mono">1,000</td></tr><tr><td class="p-4 font-medium text-slate-700">å®¡æ ¸è´¹</td><td class="p-4 text-slate-500 text-xs">3,000å…ƒ/äººå¤© Ã— 4.5å¤©</td><td class="p-4 text-right font-mono">13,500</td></tr><tr><td class="p-4 font-medium text-slate-700">æ³¨å†Œè´¹</td><td class="p-4 text-slate-500 text-xs">å›ºå®šè´¹ç”¨</td><td class="p-4 text-right font-mono">2,000</td></tr><tr><td class="p-4 font-medium text-slate-700">å¹´é‡‘</td><td class="p-4 text-slate-500 text-xs">è¯ä¹¦ç»´æŒè´¹ (é¦–å¹´)</td><td class="p-4 text-right font-mono">2,000</td></tr></tbody></table></div></div><div class="col-span-12 grid grid-cols-2 gap-6"><div class="result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-6 flex items-center"><div class="flex-1"><h3 class="font-bold text-sm text-slate-700 mb-4">ä¸‰å¹´ç»´æŠ¤æˆæœ¬é¢„æµ‹</h3><div class="h-32"><canvas id="trendChart"></canvas></div></div></div><div class="result-card bg-indigo-50 rounded-2xl p-6 border border-indigo-100 flex flex-col justify-center"><h3 class="font-bold text-indigo-900 text-sm mb-3 flex items-center gap-2"><i class="fa-solid fa-tags"></i> æˆæœ¬ä¼˜åŒ–å»ºè®®</h3><ul class="text-xs text-indigo-800 space-y-2 leading-relaxed"><li class="flex gap-2"><i class="fa-solid fa-check mt-0.5 opacity-50"></i> è‹¥åŒ…å«å¤šä¸ªä½“ç³»ï¼Œå»ºè®®ç”³è¯·ç»“åˆå®¡æ ¸ï¼Œå¯èŠ‚çœçº¦ <strong>20%</strong> å®¡æ ¸è´¹ã€‚</li><li class="flex gap-2"><i class="fa-solid fa-check mt-0.5 opacity-50"></i> æå‰å‡†å¤‡ç”µå­åŒ–æ–‡æ¡£ï¼Œå‡å°‘æ–‡å®¡é˜¶æ®µæ•´æ”¹æ—¶é—´ã€‚</li></ul></div></div></div>`;
            } else if (type === 'aql') {
                return `<div class="grid grid-cols-12 gap-6 h-full"><div class="col-span-12 result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-8 flex justify-between items-center relative overflow-hidden"><div class="absolute right-0 top-0 w-32 h-32 bg-brand-50 rounded-full blur-2xl -mr-10 -mt-10"></div><div><div class="text-xs text-slate-500 font-bold uppercase mb-1">æ ·æœ¬é‡å­—ç </div><div class="text-5xl font-bold text-brand-600 mb-2">L</div><div class="text-sm text-slate-400">æ­£å¸¸æ£€éªŒä¸€æ¬¡æŠ½æ ·</div></div><div class="h-16 w-px bg-slate-100 mx-8"></div><div class="text-center"><div class="text-xs text-slate-500 mb-1">æ ·æœ¬é‡ (n)</div><div class="text-4xl font-bold text-slate-800">200</div></div><div class="h-16 w-px bg-slate-100 mx-8"></div><div class="text-center"><div class="text-xs text-slate-500 mb-1">æ¥æ”¶æ•° (Ac)</div><div class="text-4xl font-bold text-green-500">10</div></div><div class="h-16 w-px bg-slate-100 mx-8"></div><div class="text-center"><div class="text-xs text-slate-500 mb-1">æ‹’æ”¶æ•° (Re)</div><div class="text-4xl font-bold text-red-500">11</div></div></div><div class="col-span-8 result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-6"><h3 class="font-bold text-sm text-slate-700 mb-4">OC æ›²çº¿ (æ“ä½œç‰¹æ€§)</h3><div class="h-64"><canvas id="aqlChart"></canvas></div></div><div class="col-span-4 flex flex-col gap-6"><div class="result-card bg-red-50 rounded-2xl p-6 border border-red-100 flex-1"><h3 class="text-xs font-bold text-red-800 mb-2">ç”Ÿäº§è€…é£é™© (Î±)</h3><div class="text-3xl font-bold text-red-600 mb-1">5.2%</div><p class="text-[10px] text-red-400 leading-tight">è‰¯å“è¢«è¯¯åˆ¤æ‹’æ”¶çš„æ¦‚ç‡ã€‚å»ºè®®åŠ å¼ºå‡ºå‚è‡ªæ£€ã€‚</p></div><div class="result-card bg-orange-50 rounded-2xl p-6 border border-orange-100 flex-1"><h3 class="text-xs font-bold text-orange-800 mb-2">æ¶ˆè´¹è€…é£é™© (Î²)</h3><div class="text-3xl font-bold text-orange-600 mb-1">9.8%</div><p class="text-[10px] text-orange-400 leading-tight">åŠ£å“è¢«è¯¯åˆ¤æ¥æ”¶çš„æ¦‚ç‡ã€‚é£é™©å¤„äºå¯æ§èŒƒå›´ã€‚</p></div></div></div>`;
            } else if (type === 'ccc') {
                return `<div class="grid grid-cols-12 gap-6"><div class="col-span-12 result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-8 flex items-center gap-6 relative overflow-hidden"><div class="absolute left-0 top-0 w-2 h-full bg-green-500"></div><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-green-600 text-2xl flex-shrink-0"><i class="fa-solid fa-check"></i></div><div><h2 class="text-2xl font-bold text-slate-800">å±äº CCC å¼ºåˆ¶è®¤è¯èŒƒå›´</h2><p class="text-slate-500 text-sm mt-1">åŒ¹é…ç½®ä¿¡åº¦ï¼š<span class="text-green-600 font-bold">99.8%</span></p></div><div class="ml-auto text-right"><div class="text-xs text-slate-400 uppercase font-bold">äº§å“å¤§ç±»</div><div class="text-lg font-medium text-slate-700">01 ç”µçº¿ç”µç¼†</div></div></div><div class="col-span-8 result-card bg-white rounded-2xl shadow-sm border border-slate-200 p-6"><h3 class="font-bold text-sm text-slate-700 mb-4">åˆ¤å®šä¾æ®ä¸æ ‡å‡†</h3><div class="space-y-4"><div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100"><div class="flex items-center gap-3"><div class="w-8 h-8 rounded bg-white flex items-center justify-center text-slate-400 shadow-sm"><i class="fa-solid fa-book"></i></div><div><div class="text-xs text-slate-500">ä¾æ®æ ‡å‡†</div><div class="text-sm font-bold text-slate-800">GB/T 5013</div></div></div><span class="bg-green-100 text-green-700 text-xs px-2 py-1 rounded">ç°è¡Œæœ‰æ•ˆ</span></div><div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100"><div class="flex items-center gap-3"><div class="w-8 h-8 rounded bg-white flex items-center justify-center text-slate-400 shadow-sm"><i class="fa-solid fa-cube"></i></div><div><div class="text-xs text-slate-500">å…·ä½“äº§å“</div><div class="text-sm font-bold text-slate-800">é¢å®šç”µå‹450/750VåŠä»¥ä¸‹æ©¡çš®ç»ç¼˜ç”µçº¿ç”µç¼†</div></div></div></div></div><div class="mt-6"><h4 class="text-xs font-bold text-slate-500 mb-3">å…³é”®æµ‹è¯•é¡¹ç›®é¢„è§ˆ</h4><div class="flex flex-wrap gap-2"><span class="px-3 py-1.5 rounded-lg bg-white border border-slate-200 text-slate-600 text-xs font-medium shadow-sm">å¯¼ä½“ç”µé˜»</span><span class="px-3 py-1.5 rounded-lg bg-white border border-slate-200 text-slate-600 text-xs font-medium shadow-sm">ç»ç¼˜åšåº¦</span><span class="px-3 py-1.5 rounded-lg bg-white border border-slate-200 text-slate-600 text-xs font-medium shadow-sm">æˆå“ç”µå‹è¯•éªŒ</span></div></div></div><div class="col-span-4 result-card bg-yellow-50 rounded-2xl shadow-sm border border-yellow-100 p-6"><h3 class="font-bold text-yellow-800 text-sm mb-4 flex items-center gap-2"><i class="fa-solid fa-triangle-exclamation"></i> ä¸“å®¶æç¤º</h3><p class="text-xs text-yellow-800 leading-relaxed mb-4">è¯¥äº§å“éœ€è¿›è¡Œ<strong>â€œå‹å¼è¯•éªŒ + åˆå§‹å·¥å‚æ£€æŸ¥ + è·è¯åç›‘ç£â€</strong>ã€‚</p><p class="text-xs text-yellow-800 leading-relaxed">æ³¨æ„ï¼šæ–°ç‰ˆæ ‡å‡† GB/T 5013-202X å³å°†å®æ–½ã€‚</p></div></div>`;
            }
        }

        // --- 4. Chart Renderers ---
        function renderFeeChart() {
            const el = document.getElementById('feeChart');
            if(!el) return;
            new Chart(el.getContext('2d'), { type: 'doughnut', data: { labels: ['å®¡æ ¸', 'ç”³è¯·', 'æ³¨å†Œ', 'å¹´é‡‘'], datasets: [{ data: [70, 10, 10, 10], backgroundColor: ['#3b82f6', '#93c5fd', '#bfdbfe', '#cbd5e1'], borderWidth: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, cutout: '75%' } });
        }
        function renderTrendChart() {
            const el = document.getElementById('trendChart');
            if(!el) return;
            new Chart(el.getContext('2d'), { type: 'line', data: { labels: ['2026', '2027', '2028'], datasets: [{ label: 'é¢„ä¼°ç»´æŠ¤æˆæœ¬', data: [2000, 2200, 2000], borderColor: '#10b981', backgroundColor: 'rgba(16, 185, 129, 0.1)', fill: true, tension: 0.4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false } } } } });
        }
        function renderRiskRadar() {
            const el = document.getElementById('riskRadar');
            if(!el) return;
            new Chart(el.getContext('2d'), { type: 'radar', data: { labels: ['äººå‘˜èƒ½åŠ›','è¿‡ç¨‹æ§åˆ¶','è®¾å¤‡è®¾æ–½','æ–‡ä»¶ç®¡ç†','ç»©æ•ˆè¯„ä»·'], datasets: [{ label: 'é£é™©åˆ†å¸ƒ', data: [80, 60, 40, 30, 70], backgroundColor: 'rgba(59, 130, 246, 0.2)', borderColor: '#3b82f6' }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { r: { suggestMin: 0, ticks: { display: false } } } } });
        }
        function renderAQLChart() {
            const el = document.getElementById('aqlChart');
            if(!el) return;
            new Chart(el.getContext('2d'), { type: 'line', data: { labels: [0, 2, 4, 6, 8, 10, 12], datasets: [{ label: 'æ¥æ”¶æ¦‚ç‡ Pa(%)', data: [100, 95, 80, 50, 20, 5, 0], borderColor: '#2563eb', backgroundColor: 'rgba(37, 99, 235, 0.1)', fill: true, tension: 0.4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { title: { display: true, text: 'æ¥æ”¶æ¦‚ç‡' }, grid: { borderDash: [4,4] } }, x: { title: { display: true, text: 'ä¸åˆæ ¼å“ç‡ (%)' }, grid: { display: false } } } } });
        }

        renderForm(); // Init
    </script>
</body>
</html>
