<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>系统登录 - 计量综合业务管理平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 字体设置 */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Noto+Sans+SC:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
            background-color: #0f172a;
            overflow: hidden; /* 防止背景动画出现滚动条 */
        }

        /* 动态背景 Canvas */
        #canvas-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* 玻璃拟态卡片 */
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* 输入框自动填充背景色修复 */
        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus, 
        input:-webkit-autofill:active{
            -webkit-box-shadow: 0 0 0 30px #1e293b inset !important;
            -webkit-text-fill-color: white !important;
            transition: background-color 5000s ease-in-out 0s;
        }

        /* 渐变文字 */
        .gradient-text {
            background: linear-gradient(135deg, #60a5fa 0%, #2dd4bf 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* 登录按钮动画 */
        .btn-animate {
            transition: all 0.3s ease;
            background-size: 200% auto;
            background-image: linear-gradient(to right, #2563eb 0%, #0891b2 51%, #2563eb 100%);
        }
        .btn-animate:hover {
            background-position: right center;
            transform: translateY(-1px);
            box-shadow: 0 10px 20px -10px rgba(34, 211, 238, 0.5);
        }

        /* 加载圆圈 */
        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3498db;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="h-screen flex items-center justify-center relative">

    <canvas id="canvas-bg"></canvas>

    <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0">
        <div class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-cyan-600/10 rounded-full blur-[120px]"></div>
    </div>

    <div class="glass-card w-full max-w-md p-8 rounded-2xl z-10 mx-4 relative animate-[fadeIn_0.5s_ease-out]">
        
        <div class="text-center mb-10">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-400 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30">
                <i class="fa-solid fa-scale-balanced text-white text-3xl"></i>
            </div>
            <h1 class="text-2xl font-bold text-white tracking-wide">计量综合业务管理平台</h1>
            <p class="text-sm text-slate-400 mt-2 font-light">Metrology Integrated Business Platform</p>
        </div>

        <form id="loginForm" class="space-y-6" onsubmit="handleLogin(event)">
            
            <div class="relative group">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa-regular fa-user text-slate-400 group-focus-within:text-blue-400 transition-colors"></i>
                </div>
                <input type="text" id="username" required
                    class="w-full bg-slate-800/50 border border-slate-600 text-white text-sm rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent block w-full pl-10 p-3 placeholder-slate-500 transition-all outline-none" 
                    placeholder="请输入工号/账号">
            </div>

            <div class="relative group">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa-solid fa-lock text-slate-400 group-focus-within:text-blue-400 transition-colors"></i>
                </div>
                <input type="password" id="password" required
                    class="w-full bg-slate-800/50 border border-slate-600 text-white text-sm rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent block w-full pl-10 pr-10 p-3 placeholder-slate-500 transition-all outline-none" 
                    placeholder="请输入密码">
                <div class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer" onclick="togglePassword()">
                    <i id="eyeIcon" class="fa-regular fa-eye-slash text-slate-500 hover:text-slate-300 transition-colors"></i>
                </div>
            </div>

            <button type="submit" id="loginBtn"
                class="w-full btn-animate text-white font-semibold py-3 px-4 rounded-lg shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-blue-500 mt-2 flex justify-center items-center gap-2">
                <span>安全登录</span>
                <i class="fa-solid fa-arrow-right text-xs opacity-70"></i>
            </button>

            <div class="text-center pt-4 border-t border-white/5">
                <div class="flex items-center justify-center gap-2 text-xs text-slate-500">
                    <i class="fa-solid fa-shield-halved"></i>
                    <span>内部业务系统，仅限授权访问</span>
                </div>
            </div>
        </form>
    </div>

    <div class="absolute bottom-4 text-center w-full z-10">
        <p class="text-xs text-slate-600">© 2024 Metrology Center. All rights reserved. System Ver 3.0.1</p>
    </div>

    <script>
        // 1. 密码显隐切换
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const eyeIcon = document.getElementById('eyeIcon');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeIcon.classList.remove('fa-eye-slash');
                eyeIcon.classList.add('fa-eye');
                eyeIcon.classList.add('text-blue-400');
            } else {
                passwordInput.type = 'password';
                eyeIcon.classList.remove('fa-eye');
                eyeIcon.classList.add('fa-eye-slash');
                eyeIcon.classList.remove('text-blue-400');
            }
        }

        // 2. 模拟登录处理
        function handleLogin(e) {
            e.preventDefault();
            const btn = document.getElementById('loginBtn');
            const originalText = btn.innerHTML;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // 锁定按钮并显示Loading
            btn.disabled = true;
            btn.innerHTML = `<span class="loader"></span> <span>验证身份中...</span>`;
            btn.classList.add('opacity-75', 'cursor-not-allowed');

            // 模拟接口请求延迟
            setTimeout(() => {
                if(username && password) {
                    // 成功模拟
                    btn.innerHTML = `<i class="fa-solid fa-check"></i> <span>登录成功</span>`;
                    btn.classList.remove('from-blue-600', 'to-cyan-500'); // 移除原有渐变
                    btn.style.background = '#10b981'; // 绿色
                    
                   
                }
            }, 1500);
        }

        // 3. 科技感粒子背景动画 (Canvas)
        const canvas = document.getElementById('canvas-bg');
        const ctx = canvas.getContext('2d');
        
        let particlesArray;

        // 设置 Canvas 尺寸
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            init();
        });

        // 粒子类
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.directionX = (Math.random() * 0.4) - 0.2;
                this.directionY = (Math.random() * 0.4) - 0.2;
                this.size = Math.random() * 2;
                this.color = '#3b82f6'; // Tailwind Blue-500
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);
                ctx.fillStyle = this.color;
                ctx.fill();
            }

            update() {
                if (this.x > canvas.width || this.x < 0) {
                    this.directionX = -this.directionX;
                }
                if (this.y > canvas.height || this.y < 0) {
                    this.directionY = -this.directionY;
                }
                this.x += this.directionX;
                this.y += this.directionY;
                this.draw();
            }
        }

        // 连线逻辑
        function connect() {
            let opacityValue = 1;
            for (let a = 0; a < particlesArray.length; a++) {
                for (let b = a; b < particlesArray.length; b++) {
                    let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) + 
                                   ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                    if (distance < (canvas.width/7) * (canvas.height/7)) {
                        opacityValue = 1 - (distance / 20000);
                        ctx.strokeStyle = 'rgba(56, 189, 248,' + opacityValue * 0.2 + ')'; // Cyan lines
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                        ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function init() {
            particlesArray = [];
            let numberOfParticles = (canvas.height * canvas.width) / 9000;
            for (let i = 0; i < numberOfParticles; i++) {
                particlesArray.push(new Particle());
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
            }
            connect();
        }

        init();
        animate();
    </script>
</body>
</html>
